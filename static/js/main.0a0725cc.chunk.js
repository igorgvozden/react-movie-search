(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(6),l=a.n(r),c=(a(12),a(1)),o=a(2),i=a(4),u=a(3);a(13),a(14);var m=function(){return n.a.createElement("div",{className:"nav"},n.a.createElement("div",{className:"nav__logo"},n.a.createElement("h3",{className:"nav__logo-title"},"Movies")),n.a.createElement("p",{className:"nav__text"},"Search our database and find info about any movie you can think of!"))};a(15),a(16),a(17),a(18);var p=function(e){return n.a.createElement("tr",{key:e.i},n.a.createElement("td",{className:"search-result search-result--title"},e.movie.Title),n.a.createElement("td",{className:"search-result"},e.movie.Year),n.a.createElement("td",{className:"search-result"},e.movie.Actors),n.a.createElement("td",{className:"search-result"},e.movie.Genre),n.a.createElement("td",{className:"search-result"},e.movie.Plot))},h=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getTitleParam=function(e){s.setState({titleParam:e}),s.SortByTitle(e)},s.SortByTitle=function(e){var t=[];t=s.props.movies,"asc"===e&&t.sort((function(e,t){return e.Title>t.Title?1:t.Title>e.Title?-1:0})),"desc"===e&&t.sort((function(e,t){return e.Title>t.Title?1:t.Title>e.Title?-1:0})).reverse()},s.getYearsParam=function(e){s.setState({yearsParam:e}),s.sortByYear(e)},s.sortByYear=function(e){var t=[];t=s.props.movies,"asc"===e&&t.sort((function(e,t){return Number(e.Year)-Number(t.Year)})),"desc"===e&&t.sort((function(e,t){return Number(t.Year)-Number(e.Year)}))},s.state={movies:[],yearsParam:"",titleParam:""},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movies,s=t.actors,r=t.genre,l=t.plot,c=a;return""!==s||""!==r||""!==l?(c=a.filter((function(e){return e.Actors.toLowerCase().includes(s)})).filter((function(e){return e.Genre.toLowerCase().includes(r)})).filter((function(e){return e.Plot.toLowerCase().includes(l)})),n.a.createElement("tbody",null,c.map((function(e,t){return n.a.createElement(p,{key:t,movie:e})})))):n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"search-results__table-data search-results__table-data--sort"},n.a.createElement("p",{className:"search-results__table-data__text-sort",onClick:function(){return e.getTitleParam("asc")}},"A .. Z"),n.a.createElement("p",{className:"search-results__table-data__text-sort",onClick:function(){return e.getTitleParam("desc")}},"Z .. A")),n.a.createElement("td",{className:"search-results__table-data search-results__table-data--toggler"},n.a.createElement("p",{className:"search-results__table-data__arrow",onClick:function(){return e.getYearsParam("asc")}},"\u21e7"),n.a.createElement("p",{className:"search-results__table-data__arrow",onClick:function(){return e.getYearsParam("desc")}},"\u21e9")),n.a.createElement("td",{className:"search-results__table-data"}),n.a.createElement("td",{className:"search-results__table-data"}),n.a.createElement("td",{className:"search-results__table-data"})),a.map((function(e,t){return n.a.createElement(p,{key:t,movie:e})})))}}]),a}(s.Component),g=(a(19),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getTotalPages=function(){s.setState({totalPages:Math.ceil(s.props.totalResults/10)})},s.state={page:1,totalResults:null,totalPages:0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({page:this.props.page}),setTimeout((function(){e.getTotalPages()}),500)}},{key:"render",value:function(){var e=this.props,t=e.page,a=e.increasePage,s=e.decreasePage,r=e.totalResults;return null===r?n.a.createElement("div",{className:"pagination"},n.a.createElement("p",{className:"pagination__total-results"},"Movies found: ",r)):1===t?n.a.createElement("div",{className:"pagination"},n.a.createElement("p",{className:"pagination__total-results"},"Movies found: ",r),n.a.createElement("p",{className:"pagination__page pagination__page--info"},"You are on page ",t),n.a.createElement("p",{className:"pagination__page pagination__page--info"}," ",null!=r?"of ".concat(Math.ceil(this.props.totalResults/10)," total pages"):""),n.a.createElement("p",{className:"pagination__page",onClick:a},"Next \u21e8")):t===Math.ceil(this.props.totalResults/10)?n.a.createElement("div",{className:"pagination"},n.a.createElement("p",{className:"pagination__total-results"},"Movies found: ",r),n.a.createElement("p",{className:"pagination__page",onClick:s},"\u21e6 Previous"),n.a.createElement("p",{className:"pagination__page pagination__page--info"},"You are on page ",t),n.a.createElement("p",{className:"pagination__page pagination__page--info"}," ",null!=r?"of ".concat(Math.ceil(this.props.totalResults/10)," total pages"):"")):n.a.createElement("div",{className:"pagination"},n.a.createElement("p",{className:"pagination__total-results"},"Movies found: ",r),n.a.createElement("p",{className:"pagination__page",onClick:s},"\u21e6 Previous"),n.a.createElement("p",{className:"pagination__page pagination__page--info"},"You are on page ",t),n.a.createElement("p",{className:"pagination__page pagination__page--info"}," ",null!=r?"of ".concat(Math.ceil(this.props.totalResults/10)," total pages"):""),n.a.createElement("p",{className:"pagination__page",onClick:a},"Next \u21e8"))}}]),a}(s.Component)),_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getMoviesInfo=function(){var e=s.state.movies.map((function(e){return e.imdbID})),t=[];e.map((function(e){return fetch("http://www.omdbapi.com/?i=".concat(e,"&apikey=4ca8ee95")).then((function(e){return e.json()})).then((function(e){return t.push(e)})).then(s.setState({moviesInfo:t}))}))},s.getMovies=function(){null!=s.state.year?fetch("http://www.omdbapi.com/?s=".concat(s.state.title,"&y=").concat(s.state.year,"&page=").concat(s.state.firstPageToGet,"&apikey=4ca8ee95")).then((function(e){return e.json()})).then((function(e){s.setState({movies:e.Search}),s.setState({movieCount:e.totalResults})})).then(setTimeout((function(){s.getMoviesInfo()}),500)).then(setTimeout((function(){s.setState({state:s.state})}),600)):fetch("http://www.omdbapi.com/?s=".concat(s.state.title,"&page=").concat(s.state.page,"&apikey=4ca8ee95")).then((function(e){return e.json()})).then((function(e){s.setState({movies:e.Search}),s.setState({movieCount:e.totalResults})})).then(setTimeout((function(){s.getMoviesInfo()}),500)).then(setTimeout((function(){s.setState({state:s.state})}),600))},s.getTitle=function(e){s.setState({title:e.target.value})},s.getYear=function(e){s.setState({year:e.target.value})},s.getActors=function(e){s.setState({actors:e.target.value})},s.getGenre=function(e){s.setState({genre:e.target.value})},s.getPlot=function(e){s.setState({plot:e.target.value})},s.state={title:null,year:null,actors:"",genre:"",plot:"",movies:[],moviesInfo:[],movieCount:null,page:1,firstPageToGet:1},s}return Object(o.a)(a,[{key:"increasePage",value:function(){var e=this,t=this.state.page+1;this.setState({page:t}),setTimeout((function(){e.getMovies()}),100),setTimeout((function(){e.setState({state:e.state})}),200)}},{key:"decreasePage",value:function(){var e=this,t=this.state.page-1;this.setState({page:t}),setTimeout((function(){e.getMovies()}),100),setTimeout((function(){e.setState({state:e.state})}),200)}},{key:"onKeyPressed",value:function(e){"Enter"===e.key&&this.getMovies()}},{key:"render",value:function(){var e=this;return n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"search-results",onKeyDown:function(t){return e.onKeyPressed(t)},tabIndex:"0"},n.a.createElement("label",{htmlFor:"title",className:"search-results__label"},"Title"),n.a.createElement("input",{onChange:this.getTitle,type:"text",id:"title",className:"search-results__input"}),n.a.createElement("label",{htmlFor:"year",className:"search-results__label"},"Year"),n.a.createElement("input",{onChange:this.getYear,type:"text",id:"year",maxLength:"4",className:"search-results__input"}),n.a.createElement("label",{htmlFor:"actors",className:"search-results__label"},"Actors"),n.a.createElement("input",{onChange:this.getActors,type:"text",id:"actors",className:"search-results__input"}),n.a.createElement("label",{htmlFor:"genre",className:"search-results__label"},"Genre"),n.a.createElement("input",{onChange:this.getGenre,type:"text",id:"genre",className:"search-results__input"}),n.a.createElement("label",{htmlFor:"plot",className:"search-results__label"},"Plot"),n.a.createElement("input",{onChange:this.getPlot,type:"text",id:"plot",className:"search-results__input"}),n.a.createElement("p",{onClick:this.getMovies,className:"search-results__btn"},"Search")),n.a.createElement("h3",{className:"search-results__table-title"},"Search results:"),n.a.createElement("table",{className:"search-results__table"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"search-results__table-row"},n.a.createElement("th",{className:"search-results__table-data"},"Title"),n.a.createElement("th",{className:"search-results__table-data"},"Year"),n.a.createElement("th",{className:"search-results__table-data"},"Actors"),n.a.createElement("th",{className:"search-results__table-data"},"Genre"),n.a.createElement("th",{className:"search-results__table-data"},"Plot"))),this.state.moviesInfo.length>0?n.a.createElement(h,{movies:this.state.moviesInfo,actors:this.state.actors,genre:this.state.genre,plot:this.state.plot}):n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"search-results__table-data"},"-"),n.a.createElement("td",{className:"search-results__table-data"},"-"),n.a.createElement("td",{className:"search-results__table-data"},"-"),n.a.createElement("td",{className:"search-results__table-data"},"-"),n.a.createElement("td",{className:"search-results__table-data"},"-")))),n.a.createElement(g,{totalResults:this.state.movieCount,page:this.state.page,increasePage:function(){return e.increasePage()},decreasePage:function(){return e.decreasePage()}}))}}]),a}(s.Component),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"home"},n.a.createElement(_,null))}}]),a}(s.Component),v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(m,null),n.a.createElement(f,null))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.0a0725cc.chunk.js.map